<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµ±ä¸€å…§å®¹ç®¡ç†ç³»çµ± - Wordwall Clone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        .game-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .game-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .game-card.active {
            border-color: #3b82f6;
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
        }
        .content-saved {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div id="app">
        <!-- é ‚éƒ¨å°èˆª -->
        <nav class="bg-white shadow-sm border-b sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <div class="flex items-center">
                        <div class="text-2xl font-bold text-blue-600">ğŸ® çµ±ä¸€å…§å®¹ç®¡ç†ç³»çµ±</div>
                        <div v-if="savedContent.length > 0" class="ml-4 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">
                            å·²ä¿å­˜ {{ savedContent.length }} çµ„å…§å®¹
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button @click="showSavedContent = !showSavedContent" 
                                class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors">
                            ğŸ“š å·²ä¿å­˜å…§å®¹ ({{ savedContent.length }})
                        </button>
                        <button @click="saveCurrentContent" 
                                :disabled="!canSave"
                                class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors">
                            ğŸ’¾ ä¿å­˜ç•¶å‰å…§å®¹
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- å·²ä¿å­˜å…§å®¹é¢æ¿ -->
            <div v-if="showSavedContent" class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <h2 class="text-xl font-bold text-gray-900 mb-4">ğŸ“š å·²ä¿å­˜çš„å…§å®¹</h2>
                <div v-if="savedContent.length === 0" class="text-gray-500 text-center py-8">
                    é‚„æ²’æœ‰ä¿å­˜ä»»ä½•å…§å®¹
                </div>
                <div v-else class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div v-for="content in savedContent" :key="content.id" 
                         class="border rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer"
                         @click="loadContent(content)">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="font-semibold text-gray-900">{{ content.title }}</h3>
                            <button @click.stop="deleteContent(content.id)" 
                                    class="text-red-500 hover:text-red-700 text-sm">
                                ğŸ—‘ï¸
                            </button>
                        </div>
                        <p class="text-sm text-gray-600 mb-2">{{ content.description }}</p>
                        <div class="text-xs text-gray-500">
                            {{ content.vocabulary.length }} å€‹è©å½™ â€¢ {{ formatDate(content.createdAt) }}
                        </div>
                    </div>
                </div>
            </div>

            <!-- å…§å®¹è¼¸å…¥å€åŸŸ -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">ğŸ“ å…§å®¹è¼¸å…¥</h2>
                
                <!-- æ´»å‹•ä¿¡æ¯ -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">æ´»å‹•æ¨™é¡Œ</label>
                        <input v-model="currentContent.title" 
                               type="text" 
                               placeholder="ä¾‹å¦‚ï¼šè‹±èªå–®è©å­¸ç¿’"
                               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">æ´»å‹•æè¿°</label>
                        <input v-model="currentContent.description" 
                               type="text" 
                               placeholder="ç°¡çŸ­æè¿°é€™å€‹æ´»å‹•çš„å…§å®¹"
                               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    </div>
                </div>

                <!-- å¿«é€Ÿè¼¸å…¥ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">å¿«é€Ÿæ·»åŠ è©å½™</label>
                    <div class="space-y-3">
                        <!-- æ–‡å­—è¼¸å…¥ -->
                        <div class="flex gap-2">
                            <input v-model="newWord.english"
                                   @keyup.enter="addWord"
                                   type="text"
                                   placeholder="English"
                                   class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <input v-model="newWord.chinese"
                                   @keyup.enter="addWord"
                                   type="text"
                                   placeholder="ä¸­æ–‡"
                                   class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <button @click="addWord"
                                    :disabled="!newWord.english || !newWord.chinese"
                                    class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors">
                                â• æ·»åŠ 
                            </button>
                        </div>

                        <!-- åœ–ç‰‡è¼¸å…¥ -->
                        <div class="flex gap-2 items-center">
                            <div class="flex-1">
                                <input type="file"
                                       ref="imageInput"
                                       @change="handleImageSelect"
                                       accept="image/*"
                                       class="hidden">
                                <button @click="$refs.imageInput.click()"
                                        class="w-full px-3 py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors text-gray-600 hover:text-blue-600">
                                    ğŸ–¼ï¸ é¸æ“‡åœ–ç‰‡ (å¯é¸)
                                </button>
                            </div>
                            <button @click="pasteImageFromClipboard"
                                    class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors">
                                ğŸ“‹ ç²˜è²¼åœ–ç‰‡
                            </button>
                            <button v-if="newWord.image"
                                    @click="clearImage"
                                    class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors">
                                ğŸ—‘ï¸ æ¸…é™¤
                            </button>
                        </div>

                        <!-- åœ–ç‰‡é è¦½ -->
                        <div v-if="newWord.image" class="mt-3">
                            <div class="border rounded-lg p-3 bg-gray-50">
                                <div class="flex items-center gap-3">
                                    <img :src="newWord.image"
                                         alt="é è¦½åœ–ç‰‡"
                                         class="w-16 h-16 object-cover rounded-lg border">
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-600">åœ–ç‰‡å·²é¸æ“‡</p>
                                        <p class="text-xs text-gray-500">å°‡èˆ‡è©å½™ä¸€èµ·ä¿å­˜</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è©å½™åˆ—è¡¨ -->
                <div v-if="currentContent.vocabulary.length > 0" class="mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold text-gray-900">è©å½™åˆ—è¡¨ ({{ currentContent.vocabulary.length }})</h3>
                        <button @click="clearAllWords" 
                                class="text-red-600 hover:text-red-800 text-sm">
                            ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰
                        </button>
                    </div>
                    <div class="max-h-64 overflow-y-auto border rounded-lg">
                        <table class="w-full">
                            <thead class="bg-gray-50 sticky top-0">
                                <tr>
                                    <th class="text-left py-2 px-4 font-medium text-gray-700">#</th>
                                    <th class="text-left py-2 px-4 font-medium text-gray-700">åœ–ç‰‡</th>
                                    <th class="text-left py-2 px-4 font-medium text-gray-700">English</th>
                                    <th class="text-left py-2 px-4 font-medium text-gray-700">ä¸­æ–‡</th>
                                    <th class="text-left py-2 px-4 font-medium text-gray-700 w-20">æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(word, index) in currentContent.vocabulary"
                                    :key="word.id"
                                    class="border-b border-gray-100 hover:bg-gray-50">
                                    <td class="py-2 px-4 text-gray-600">{{ index + 1 }}</td>
                                    <td class="py-2 px-4">
                                        <div v-if="word.image" class="w-12 h-12">
                                            <img :src="word.image"
                                                 :alt="word.english"
                                                 class="w-full h-full object-cover rounded border cursor-pointer"
                                                 @click="showImageModal(word.image, word.english)">
                                        </div>
                                        <div v-else class="w-12 h-12 bg-gray-100 rounded border flex items-center justify-center text-gray-400 text-xs">
                                            ç„¡åœ–
                                        </div>
                                    </td>
                                    <td class="py-2 px-4">{{ word.english }}</td>
                                    <td class="py-2 px-4">{{ word.chinese }}</td>
                                    <td class="py-2 px-4">
                                        <button @click="removeWord(index)"
                                                class="text-red-500 hover:text-red-700 text-sm">
                                            ğŸ—‘ï¸
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- éŠæˆ²é¸æ“‡å™¨ -->
            <div v-if="currentContent.vocabulary.length > 0" class="bg-white rounded-xl shadow-lg p-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">ğŸ® é¸æ“‡éŠæˆ²æ¨¡å¼</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- QuizéŠæˆ² -->
                    <div class="game-card border-2 border-gray-200 rounded-xl p-6 text-center"
                         :class="{ 'active': selectedGame === 'quiz' }"
                         @click="selectGame('quiz')">
                        <div class="text-4xl mb-3">â“</div>
                        <h3 class="font-bold text-lg mb-2">é¸æ“‡é¡Œ</h3>
                        <p class="text-sm text-gray-600 mb-4">
                            é©åˆ {{ currentContent.vocabulary.length }} å€‹è©å½™
                        </p>
                        <div class="text-xs text-blue-600">
                            âœ“ æ”¯æ´è¨ˆæ™‚ âœ“ ç©åˆ†ç³»çµ±
                        </div>
                    </div>

                    <!-- MatchéŠæˆ² -->
                    <div class="game-card border-2 border-gray-200 rounded-xl p-6 text-center"
                         :class="{ 'active': selectedGame === 'match' }"
                         @click="selectGame('match')">
                        <div class="text-4xl mb-3">ğŸ”—</div>
                        <h3 class="font-bold text-lg mb-2">é…å°éŠæˆ²</h3>
                        <p class="text-sm text-gray-600 mb-4">
                            {{ currentContent.vocabulary.length <= 16 ? 'å®Œç¾é©åˆ' : 'å»ºè­°é¸æ“‡å‰16å€‹' }}
                        </p>
                        <div class="text-xs text-green-600">
                            âœ“ æ‹–æ‹½æ“ä½œ âœ“ è¦–è¦ºåé¥‹
                        </div>
                    </div>

                    <!-- SpinWheeléŠæˆ² -->
                    <div class="game-card border-2 border-gray-200 rounded-xl p-6 text-center"
                         :class="{ 'active': selectedGame === 'wheel' }"
                         @click="selectGame('wheel')">
                        <div class="text-4xl mb-3">ğŸ¡</div>
                        <h3 class="font-bold text-lg mb-2">è½‰ç›¤éŠæˆ²</h3>
                        <p class="text-sm text-gray-600 mb-4">
                            éš¨æ©Ÿé¸æ“‡è©å½™ç·´ç¿’
                        </p>
                        <div class="text-xs text-purple-600">
                            âœ“ ç‰©ç†å¼•æ“ âœ“ éŸ³æ•ˆæ”¯æ´
                        </div>
                    </div>

                    <!-- FlashCardséŠæˆ² -->
                    <div class="game-card border-2 border-gray-200 rounded-xl p-6 text-center"
                         :class="{ 'active': selectedGame === 'cards' }"
                         @click="selectGame('cards')">
                        <div class="text-4xl mb-3">ğŸƒ</div>
                        <h3 class="font-bold text-lg mb-2">é–ƒå¡éŠæˆ²</h3>
                        <p class="text-sm text-gray-600 mb-4">
                            è¨˜æ†¶è¨“ç·´æ¨¡å¼
                        </p>
                        <div class="text-xs text-orange-600">
                            âœ“ ç¿»è½‰å‹•ç•« âœ“ é€²åº¦è¿½è¹¤
                        </div>
                    </div>
                </div>

                <!-- é–‹å§‹éŠæˆ²æŒ‰éˆ• -->
                <div v-if="selectedGame" class="mt-8 text-center">
                    <button @click="startGame" 
                            class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-xl text-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all transform hover:scale-105">
                        ğŸš€ é–‹å§‹ {{ getGameName(selectedGame) }} éŠæˆ²
                    </button>
                    <p class="text-sm text-gray-600 mt-2">
                        å…§å®¹å°‡è‡ªå‹•è¼‰å…¥åˆ°éŠæˆ²ä¸­ï¼Œç„¡éœ€é‡æ–°è¼¸å…¥
                    </p>
                </div>
            </div>
        </div>

        <!-- æˆåŠŸæç¤º -->
        <div v-if="successMessage"
             class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 content-saved">
            {{ successMessage }}
        </div>

        <!-- åœ–ç‰‡æ¨¡æ…‹æ¡† -->
        <div v-if="imageModal.show"
             class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50"
             @click="closeImageModal">
            <div class="max-w-4xl max-h-4xl p-4">
                <img :src="imageModal.src"
                     :alt="imageModal.alt"
                     class="max-w-full max-h-full object-contain rounded-lg shadow-2xl">
                <div class="text-center mt-4">
                    <p class="text-white text-lg font-semibold">{{ imageModal.alt }}</p>
                    <button @click="closeImageModal"
                            class="mt-2 bg-white text-gray-900 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors">
                        é—œé–‰
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    // ç•¶å‰å…§å®¹
                    currentContent: {
                        id: null,
                        title: '',
                        description: '',
                        vocabulary: [],
                        createdAt: null,
                        updatedAt: null
                    },

                    // æ–°è©å½™è¼¸å…¥
                    newWord: {
                        english: '',
                        chinese: '',
                        image: null
                    },

                    // å·²ä¿å­˜çš„å…§å®¹
                    savedContent: [],
                    showSavedContent: false,

                    // éŠæˆ²é¸æ“‡
                    selectedGame: null,

                    // UIç‹€æ…‹
                    successMessage: '',
                    imageModal: {
                        show: false,
                        src: '',
                        alt: ''
                    },

                    // éŠæˆ²é…ç½®
                    gameConfigs: {
                        quiz: {
                            name: 'é¸æ“‡é¡Œ',
                            url: 'interactive-demo.html#quiz',
                            minWords: 2
                        },
                        match: {
                            name: 'é…å°éŠæˆ²',
                            url: 'interactive-demo.html#match',
                            minWords: 2,
                            maxWords: 16
                        },
                        wheel: {
                            name: 'è½‰ç›¤éŠæˆ²',
                            url: 'interactive-demo.html#wheel',
                            minWords: 3
                        },
                        cards: {
                            name: 'é–ƒå¡éŠæˆ²',
                            url: 'interactive-demo.html#cards',
                            minWords: 1
                        }
                    }
                };
            },

            computed: {
                canSave() {
                    return this.currentContent.title.trim() &&
                           this.currentContent.vocabulary.length > 0;
                }
            },

            mounted() {
                this.loadSavedContent();
                this.autoSave();
            },

            methods: {
                // æ·»åŠ æ–°è©å½™
                addWord() {
                    if (!this.newWord.english.trim() || !this.newWord.chinese.trim()) {
                        return;
                    }

                    const word = {
                        id: Date.now() + Math.random(),
                        english: this.newWord.english.trim(),
                        chinese: this.newWord.chinese.trim(),
                        image: this.newWord.image,
                        createdAt: new Date()
                    };

                    this.currentContent.vocabulary.push(word);
                    this.newWord.english = '';
                    this.newWord.chinese = '';
                    this.newWord.image = null;

                    this.showSuccess('è©å½™å·²æ·»åŠ ï¼');
                },

                // ç§»é™¤è©å½™
                removeWord(index) {
                    this.currentContent.vocabulary.splice(index, 1);
                    this.showSuccess('è©å½™å·²ç§»é™¤ï¼');
                },

                // æ¸…ç©ºæ‰€æœ‰è©å½™
                clearAllWords() {
                    if (confirm('ç¢ºå®šè¦æ¸…ç©ºæ‰€æœ‰è©å½™å—ï¼Ÿ')) {
                        this.currentContent.vocabulary = [];
                        this.showSuccess('æ‰€æœ‰è©å½™å·²æ¸…ç©ºï¼');
                    }
                },

                // ä¿å­˜ç•¶å‰å…§å®¹
                saveCurrentContent() {
                    if (!this.canSave) {
                        alert('è«‹å¡«å¯«æ¨™é¡Œä¸¦æ·»åŠ è‡³å°‘ä¸€å€‹è©å½™');
                        return;
                    }

                    const content = {
                        ...this.currentContent,
                        id: this.currentContent.id || Date.now(),
                        createdAt: this.currentContent.createdAt || new Date(),
                        updatedAt: new Date()
                    };

                    // æª¢æŸ¥æ˜¯å¦å·²å­˜åœ¨
                    const existingIndex = this.savedContent.findIndex(c => c.id === content.id);

                    if (existingIndex >= 0) {
                        this.savedContent[existingIndex] = content;
                        this.showSuccess('å…§å®¹å·²æ›´æ–°ï¼');
                    } else {
                        this.savedContent.push(content);
                        this.showSuccess('å…§å®¹å·²ä¿å­˜ï¼');
                    }

                    this.currentContent.id = content.id;
                    this.currentContent.createdAt = content.createdAt;

                    // ä¿å­˜åˆ°localStorage
                    localStorage.setItem('savedContent', JSON.stringify(this.savedContent));
                },

                // è¼‰å…¥å…§å®¹
                loadContent(content) {
                    this.currentContent = { ...content };
                    this.showSavedContent = false;
                    this.selectedGame = null;
                    this.showSuccess('å…§å®¹å·²è¼‰å…¥ï¼');
                },

                // åˆªé™¤å…§å®¹
                deleteContent(id) {
                    if (confirm('ç¢ºå®šè¦åˆªé™¤é€™å€‹å…§å®¹å—ï¼Ÿ')) {
                        this.savedContent = this.savedContent.filter(c => c.id !== id);
                        localStorage.setItem('savedContent', JSON.stringify(this.savedContent));
                        this.showSuccess('å…§å®¹å·²åˆªé™¤ï¼');
                    }
                },

                // è¼‰å…¥å·²ä¿å­˜çš„å…§å®¹
                loadSavedContent() {
                    const saved = localStorage.getItem('savedContent');
                    if (saved) {
                        this.savedContent = JSON.parse(saved);
                    }
                },

                // é¸æ“‡éŠæˆ²
                selectGame(gameType) {
                    const config = this.gameConfigs[gameType];
                    const wordCount = this.currentContent.vocabulary.length;

                    if (wordCount < config.minWords) {
                        alert(`${config.name} è‡³å°‘éœ€è¦ ${config.minWords} å€‹è©å½™`);
                        return;
                    }

                    if (config.maxWords && wordCount > config.maxWords) {
                        if (!confirm(`${config.name} å»ºè­°æœ€å¤š ${config.maxWords} å€‹è©å½™ï¼Œæ˜¯å¦ç¹¼çºŒï¼Ÿ`)) {
                            return;
                        }
                    }

                    this.selectedGame = gameType;
                },

                // é–‹å§‹éŠæˆ²
                startGame() {
                    if (!this.selectedGame) return;

                    // æº–å‚™éŠæˆ²æ•¸æ“š
                    const gameData = {
                        type: this.selectedGame,
                        content: this.currentContent,
                        vocabulary: this.currentContent.vocabulary,
                        timestamp: new Date()
                    };

                    // ä¿å­˜åˆ°localStorageä¾›éŠæˆ²é é¢ä½¿ç”¨
                    localStorage.setItem('currentGameData', JSON.stringify(gameData));

                    // è·³è½‰åˆ°éŠæˆ²é é¢
                    const config = this.gameConfigs[this.selectedGame];
                    window.location.href = config.url;
                },

                // ç²å–éŠæˆ²åç¨±
                getGameName(gameType) {
                    return this.gameConfigs[gameType]?.name || gameType;
                },

                // æ ¼å¼åŒ–æ—¥æœŸ
                formatDate(date) {
                    if (!date) return '';
                    const d = new Date(date);
                    return d.toLocaleDateString('zh-TW') + ' ' + d.toLocaleTimeString('zh-TW', {
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                },

                // é¡¯ç¤ºæˆåŠŸæ¶ˆæ¯
                showSuccess(message) {
                    this.successMessage = message;
                    setTimeout(() => {
                        this.successMessage = '';
                    }, 3000);
                },

                // è‡ªå‹•ä¿å­˜
                autoSave() {
                    setInterval(() => {
                        if (this.canSave && this.currentContent.vocabulary.length > 0) {
                            // è‡ªå‹•ä¿å­˜åˆ°è‡¨æ™‚å­˜å„²
                            localStorage.setItem('tempContent', JSON.stringify(this.currentContent));
                        }
                    }, 30000); // æ¯30ç§’è‡ªå‹•ä¿å­˜
                },

                // è™•ç†åœ–ç‰‡é¸æ“‡
                handleImageSelect(event) {
                    const file = event.target.files[0];
                    if (file) {
                        this.processImageFile(file);
                    }
                },

                // è™•ç†åœ–ç‰‡æ–‡ä»¶
                processImageFile(file) {
                    // æª¢æŸ¥æ–‡ä»¶é¡å‹
                    if (!file.type.startsWith('image/')) {
                        alert('è«‹é¸æ“‡åœ–ç‰‡æ–‡ä»¶ï¼');
                        return;
                    }

                    // æª¢æŸ¥æ–‡ä»¶å¤§å° (é™åˆ¶5MB)
                    if (file.size > 5 * 1024 * 1024) {
                        alert('åœ–ç‰‡æ–‡ä»¶ä¸èƒ½è¶…é5MBï¼');
                        return;
                    }

                    const reader = new FileReader();
                    reader.onload = (e) => {
                        this.newWord.image = e.target.result;
                        this.showSuccess('åœ–ç‰‡å·²é¸æ“‡ï¼');
                    };
                    reader.readAsDataURL(file);
                },

                // å¾å‰ªè²¼æ¿ç²˜è²¼åœ–ç‰‡
                async pasteImageFromClipboard() {
                    try {
                        const clipboardItems = await navigator.clipboard.read();

                        for (const clipboardItem of clipboardItems) {
                            for (const type of clipboardItem.types) {
                                if (type.startsWith('image/')) {
                                    const blob = await clipboardItem.getType(type);
                                    this.processImageFile(blob);
                                    return;
                                }
                            }
                        }

                        alert('å‰ªè²¼æ¿ä¸­æ²’æœ‰æ‰¾åˆ°åœ–ç‰‡ï¼');
                    } catch (error) {
                        console.error('ç²˜è²¼åœ–ç‰‡å¤±æ•—:', error);
                        alert('ç²˜è²¼åœ–ç‰‡å¤±æ•—ï¼Œè«‹å˜—è©¦ç›´æ¥é¸æ“‡æ–‡ä»¶ï¼');
                    }
                },

                // æ¸…é™¤åœ–ç‰‡
                clearImage() {
                    this.newWord.image = null;
                    this.showSuccess('åœ–ç‰‡å·²æ¸…é™¤ï¼');
                },

                // é¡¯ç¤ºåœ–ç‰‡æ¨¡æ…‹æ¡†
                showImageModal(src, alt) {
                    this.imageModal = {
                        show: true,
                        src: src,
                        alt: alt
                    };
                },

                // é—œé–‰åœ–ç‰‡æ¨¡æ…‹æ¡†
                closeImageModal() {
                    this.imageModal.show = false;
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
